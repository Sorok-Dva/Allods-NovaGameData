<?xml version="1.0" encoding="UTF-8" ?>
<mapLoader.MapResource>
	<Header>
		<resourceId>86542349</resourceId>
	</Header>
	<name href="mapName.txt" />
	<exit type="mapLoader.pointer.MapPointerPos">
		<pointer>
			<map href="/Maps/AstralHangarHadagan_VIP/MapResource.xdb#xpointer(/mapLoader.MapResource)" />
			<scriptID>Academy</scriptID>
		</pointer>
	</exit>
	<mapTemplate href="/System/MapTemplates/HangarTemplate.xdb#xpointer(/mapLoader.MapTemplate)" />
	<globalObjects>
		<Item href="GlobalObjects/Tours/HadaganHangarOut.(Tour).xdb#xpointer(/gameMechanics.map.tour.Tour)" />
		<Item href="GlobalObjects/Tours/HadaganHangarIn.(Tour).xdb#xpointer(/gameMechanics.map.tour.Tour)" />
	</globalObjects>
	<parts>
		<parts>
			<Item type="gameMechanics.map.basicElements.MapSpecificEffectsGeneric">
				<filter type="gameMechanics.world.ship.ShipFilter" />
				<effects>
					<Item type="gameMechanics.elements.effects.Switch">
						<impactsOn>
							<Item type="gameMechanics.elements.impacts.ImpactsDeferredGeneric">
								<delay>0</delay>
								<impacts>
									<Item type="itemService.elements.astral.ImpactRemoveChest">
										<chestCount type="gameMechanics.world.ship.elements.calcers.CalcerTreasureChestCount">
											<chestType href="/Mechanics/Rules/Astral/Caravans/Chests/ResourceChest.(AstralChestType).xdb#xpointer(/gameMechanics.world.device.AstralChestType)" />
										</chestCount>
										<chestType href="/Mechanics/Rules/Astral/Caravans/Chests/ResourceChest.(AstralChestType).xdb#xpointer(/gameMechanics.world.device.AstralChestType)" />
										<impactsOnAvatarPerChest>
											<Item type="gameMechanics.elements.impacts.ImpactsIfGeneric">
												<predicate type="gameMechanics.constructor.basicElements.BinaryPredicateAnd">
													<predicates>
														<Item type="gameMechanics.elements.predicates.PredicateOnSameMap" />
														<Item type="gameMechanics.elements.predicates.BinaryPredicateSwitchActors">
															<predicate type="gameMechanics.world.ship.elements.PredicateShipOwner" />
														</Item>
													</predicates>
												</predicate>
												<impactsIf>
													<Item type="gameMechanics.constructor.schemes.buff.BuffAttacherGeneric">
														<buff href="/Mechanics/Rules/Astral/Caravans/RewardBuffs/ResourceFullReward.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
													</Item>
												</impactsIf>
											</Item>
											<Item type="gameMechanics.elements.impacts.ImpactsIfGeneric">
												<predicate type="gameMechanics.constructor.basicElements.BinaryPredicateAnd">
													<predicates>
														<Item type="gameMechanics.elements.predicates.PredicateOnSameMap" />
														<Item type="gameMechanics.constructor.basicElements.BinaryPredicateNot">
															<predicate type="gameMechanics.elements.predicates.BinaryPredicateSwitchActors">
																<predicate type="gameMechanics.world.ship.elements.PredicateShipOwner" />
															</predicate>
														</Item>
													</predicates>
												</predicate>
												<impactsIf>
													<Item type="gameMechanics.constructor.schemes.buff.BuffAttacherGeneric">
														<buff href="/Mechanics/Rules/Astral/Caravans/RewardBuffs/ResourcePartReward.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
													</Item>
												</impactsIf>
											</Item>
										</impactsOnAvatarPerChest>
									</Item>
									<Item type="itemService.elements.astral.ImpactRemoveChest">
										<chestCount type="gameMechanics.world.ship.elements.calcers.CalcerTreasureChestCount">
											<chestType href="/Mechanics/Rules/Astral/Caravans/Chests/ResourceChestEvent.(AstralChestType).xdb#xpointer(/gameMechanics.world.device.AstralChestType)" />
										</chestCount>
										<chestType href="/Mechanics/Rules/Astral/Caravans/Chests/ResourceChestEvent.(AstralChestType).xdb#xpointer(/gameMechanics.world.device.AstralChestType)" />
										<impactsOnAvatarPerChest>
											<Item type="gameMechanics.elements.impacts.ImpactsIfGeneric">
												<predicate type="gameMechanics.elements.predicates.PredicateOnSameMap" />
												<impactsIf>
													<Item type="gameMechanics.constructor.schemes.buff.BuffAttacherGeneric">
														<buff href="/Mechanics/Rules/Astral/Caravans/RewardBuffs/ResourceFullReward.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
													</Item>
												</impactsIf>
											</Item>
										</impactsOnAvatarPerChest>
									</Item>
								</impacts>
							</Item>
						</impactsOn>
					</Item>
				</effects>
			</Item>
		</parts>
	</parts>
	<cellParts>
		<parts>
			<Item type="gameMechanics.world.bigAstral.EntranceTourPart">
				<tour href="GlobalObjects/Tours/HadaganHangarIn.(Tour).xdb#xpointer(/gameMechanics.map.tour.Tour)" />
			</Item>
			<Item type="gameMechanics.world.bigAstral.ExitTourPart">
				<tour href="GlobalObjects/Tours/HadaganHangarOut.(Tour).xdb#xpointer(/gameMechanics.map.tour.Tour)" />
			</Item>
			<Item type="gameMechanics.world.bigAstral.hangar.HangarInfoPart">
				<sailingPort href="/Mechanics/Ships/Hangar/SailingPorts/SailingPortEmpire.xdb#xpointer(/gameMechanics.map.astral.SailingPort)" />
			</Item>
		</parts>
	</cellParts>
</mapLoader.MapResource>
