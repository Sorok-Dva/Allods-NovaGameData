<?xml version="1.0" encoding="UTF-8" ?>
<gameMechanics.constructor.schemes.ability.AbilityResource>
	<Header>
		<resourceId>281979909</resourceId>
	</Header>
	<effects>
		<Item type="gameMechanics.elements.effects.ImpactsOverTime">
			<impacts>
				<Item type="gameMechanics.elements.impacts.ImpactInstantiatingWithAddressee">
					<consumeAddress type="gameMechanics.elements.addresseeFinders.AddresseeFinderSelf" />
					<impacts>
						<Item type="gameMechanics.elements.impacts.RandomImpact">
							<entries>
								<Item>
									<impacts>
										<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
											<buff href="ZC6_Buff_AntiFire.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
										<Item type="gameMechanics.elements.impacts.ImpactCreaturesAround">
											<impacts>
												<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
													<predicates>
														<Item type="gameMechanics.elements.predicates.PredicateQuestStatus">
															<quest href="/World/Quests/IllusionWorld/ZC6_MiniinstBoss/ZC6_MiniinstBoss.xdb#xpointer(/gameMechanics.constructor.schemes.quest.QuestResource)" />
														</Item>
													</predicates>
													<impactsIf>
														<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
															<buff href="ZC6_Buff_AntiFire_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
														</Item>
														<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
															<predicates>
																<Item type="gameMechanics.constructor.basicElements.PredicateAnd">
																	<predicates>
																		<Item type="gameMechanics.elements.predicates.PredicateIsAvatar" />
																		<Item type="gameMechanics.world.pet.PredicateHasPet" />
																	</predicates>
																</Item>
															</predicates>
															<impactsIf>
																<Item type="gameMechanics.elements.impacts.ImpactsToPet">
																	<impacts>
																		<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
																			<buff href="ZC6_Buff_AntiFire_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
																		</Item>
																	</impacts>
																</Item>
															</impactsIf>
														</Item>
													</impactsIf>
												</Item>
											</impacts>
											<filter type="gameMechanics.world.creature.AvatarFilter" />
										</Item>
									</impacts>
								</Item>
								<Item>
									<impacts>
										<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
											<buff href="ZC6_Buff_AntiWater.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
										<Item type="gameMechanics.elements.impacts.ImpactCreaturesAround">
											<impacts>
												<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
													<predicates>
														<Item type="gameMechanics.elements.predicates.PredicateQuestStatus">
															<quest href="/World/Quests/IllusionWorld/ZC6_MiniinstBoss/ZC6_MiniinstBoss.xdb#xpointer(/gameMechanics.constructor.schemes.quest.QuestResource)" />
														</Item>
													</predicates>
													<impactsIf>
														<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
															<buff href="ZC6_Buff_AntiWater_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
														</Item>
														<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
															<predicates>
																<Item type="gameMechanics.constructor.basicElements.PredicateAnd">
																	<predicates>
																		<Item type="gameMechanics.elements.predicates.PredicateIsAvatar" />
																		<Item type="gameMechanics.world.pet.PredicateHasPet" />
																	</predicates>
																</Item>
															</predicates>
															<impactsIf>
																<Item type="gameMechanics.elements.impacts.ImpactsToPet">
																	<impacts>
																		<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
																			<buff href="ZC6_Buff_AntiWater_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
																		</Item>
																	</impacts>
																</Item>
															</impactsIf>
														</Item>
													</impactsIf>
												</Item>
											</impacts>
											<filter type="gameMechanics.world.creature.AvatarFilter" />
										</Item>
									</impacts>
								</Item>
								<Item>
									<impacts>
										<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
											<buff href="ZC6_Buff_AntiAir.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
										<Item type="gameMechanics.elements.impacts.ImpactCreaturesAround">
											<impacts>
												<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
													<predicates>
														<Item type="gameMechanics.elements.predicates.PredicateQuestStatus">
															<quest href="/World/Quests/IllusionWorld/ZC6_MiniinstBoss/ZC6_MiniinstBoss.xdb#xpointer(/gameMechanics.constructor.schemes.quest.QuestResource)" />
														</Item>
													</predicates>
													<impactsIf>
														<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
															<buff href="ZC6_Buff_AntiAir_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
														</Item>
														<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
															<predicates>
																<Item type="gameMechanics.constructor.basicElements.PredicateAnd">
																	<predicates>
																		<Item type="gameMechanics.elements.predicates.PredicateIsAvatar" />
																		<Item type="gameMechanics.world.pet.PredicateHasPet" />
																	</predicates>
																</Item>
															</predicates>
															<impactsIf>
																<Item type="gameMechanics.elements.impacts.ImpactsToPet">
																	<impacts>
																		<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
																			<buff href="ZC6_Buff_AntiAir_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
																		</Item>
																	</impacts>
																</Item>
															</impactsIf>
														</Item>
													</impactsIf>
												</Item>
											</impacts>
											<filter type="gameMechanics.world.creature.AvatarFilter" />
										</Item>
									</impacts>
								</Item>
							</entries>
						</Item>
					</impacts>
				</Item>
			</impacts>
			<tick>30000</tick>
			<initialDelay>3000</initialDelay>
		</Item>
		<Item type="gameMechanics.elements.effects.EffectSpeedModifier">
			<effectScaler type="gameMechanics.elements.scalers.LinearEffectScaler">
				<coeff>0.2</coeff>
			</effectScaler>
		</Item>
		<Item type="gameMechanics.elements.effects.HealthLowerTrigger">
			<max type="gameMechanics.elements.calcers.HealthCalcer">
				<multiplier>0.11</multiplier>
			</max>
			<impacts>
				<Item type="gameMechanics.elements.impacts.ImpactFindPermanentDevice">
					<impacts>
						<Item type="gameMechanics.elements.device.ImpactDeviceSetVisualState">
							<visualState>1</visualState>
						</Item>
					</impacts>
					<device>
						<scriptID>Aviak_Elemental_Cave</scriptID>
						<map href="/Maps/IllusionWorld_Inst/MapResource.xdb#xpointer(/mapLoader.MapResource)" />
					</device>
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactCreaturesAround">
					<impacts>
						<Item type="gameMechanics.elements.impacts.ImpactIncreaseQuestCount">
							<id href="/World/Quests/IllusionWorld/ZC6_MiniinstBoss/CountId_1.xdb#xpointer(/gameMechanics.elements.quest.QuestCountId)" />
						</Item>
						<Item type="gameMechanics.elements.impacts.BuffDetacher">
							<buff href="ZC6_Buff_AntiAir_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
						</Item>
						<Item type="gameMechanics.elements.impacts.BuffDetacher">
							<buff href="ZC6_Buff_AntiFire_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
						</Item>
						<Item type="gameMechanics.elements.impacts.BuffDetacher">
							<buff href="ZC6_Buff_AntiWater_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
						</Item>
						<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
							<buff href="/World/Quests/IllusionWorld/ZC6_E_8_5/ZC6_E_8_5_Buff.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
						</Item>
						<Item type="gameMechanics.elements.impacts.ImpactIfTarget">
							<predicates>
								<Item type="gameMechanics.constructor.basicElements.PredicateAnd">
									<predicates>
										<Item type="gameMechanics.elements.predicates.PredicateIsAvatar" />
										<Item type="gameMechanics.world.pet.PredicateHasPet" />
									</predicates>
								</Item>
							</predicates>
							<impactsIf>
								<Item type="gameMechanics.elements.impacts.ImpactsToPet">
									<impacts>
										<Item type="gameMechanics.elements.impacts.BuffDetacher">
											<buff href="ZC6_Buff_AntiFire_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
										<Item type="gameMechanics.elements.impacts.BuffDetacher">
											<buff href="ZC6_Buff_AntiWater_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
										<Item type="gameMechanics.elements.impacts.BuffDetacher">
											<buff href="ZC6_Buff_AntiAir_PL.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
									</impacts>
								</Item>
							</impactsIf>
						</Item>
					</impacts>
					<filter type="gameMechanics.world.creature.AvatarFilter" />
				</Item>
				<Item type="gameMechanics.constructor.schemes.buff.BuffAttacher">
					<buff href="/World/Quests/IllusionWorld/ZC6_MiniinstBoss/BossFreeze_Buff.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactHealAll" />
				<Item type="gameMechanics.elements.impacts.BuffDetacher">
					<buff href="ZC6_Buff_AntiAir.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.BuffDetacher">
					<buff href="ZC6_Buff_AntiFire.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.BuffDetacher">
					<buff href="ZC6_Buff_AntiWater.(BuffResource).xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactScriptZoneSetDisabled">
					<zone href="/Maps/IllusionWorld_Inst/ScriptZones/ZC6_ElementalCave_Air.(ScriptZone).xdb#xpointer(/gameMechanics.map.scriptZone.ScriptZone)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactScriptZoneSetDisabled">
					<zone href="/Maps/IllusionWorld_Inst/ScriptZones/ZC6_ElementalCave_Fire.(ScriptZone).xdb#xpointer(/gameMechanics.map.scriptZone.ScriptZone)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactsDeferred">
					<delay>1000</delay>
					<impacts>
						<Item type="gameMechanics.elements.impacts.ImpactSetFaction">
							<faction href="/World/Factions/NeutralFriendly.xdb#xpointer(/gameMechanics.world.creature.Faction)" />
						</Item>
					</impacts>
				</Item>
				<Item type="gameMechanics.elements.impacts.AttachAbility">
					<ability href="/Mechanics/Abilities/CanDoNothing/Ability01.xdb#xpointer(/gameMechanics.constructor.schemes.ability.AbilityResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.ImpactForgetAbility">
					<ability href="Agent_BattleAction.(AbilityResource).xdb#xpointer(/gameMechanics.constructor.schemes.ability.AbilityResource)" />
				</Item>
				<Item type="gameMechanics.elements.impacts.SpawnSingleMob">
					<mob>
						<scriptID>ZC6_Veronika_Appear</scriptID>
						<map href="/Maps/IllusionWorld_Inst/MapResource.xdb#xpointer(/mapLoader.MapResource)" />
					</mob>
				</Item>
				<Item type="gameMechanics.elements.impacts.SpawnSingleDevice">
					<device>
						<scriptID>TeleportTo_ZC9</scriptID>
						<map href="/Maps/IllusionWorld_Inst/MapResource.xdb#xpointer(/mapLoader.MapResource)" />
					</device>
				</Item>
			</impacts>
		</Item>
	</effects>
	<disableWhileDead>true</disableWhileDead>
</gameMechanics.constructor.schemes.ability.AbilityResource>
