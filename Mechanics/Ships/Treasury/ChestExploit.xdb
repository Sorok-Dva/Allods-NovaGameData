<?xml version="1.0" encoding="UTF-8" ?>
<gameMechanics.constructor.schemes.exploit.Exploit>
	<Header>
		<resourceId>1682636809</resourceId>
	</Header>
	<visualScripts href="/Items/InteractiveObjects/Templates/DefaultExploitVisScripts.(ExploitVisScripts).xdb#xpointer(/ExploitVisScripts)" />
	<casterConditions>
		<Item type="gameMechanics.constructor.basicElements.PredicateNot">
			<predicate type="gameMechanics.elements.predicates.PredicateHasBuffFromGroup">
				<groups>
					<Item href="/Mechanics/Spells/Groups/AstralChestCarrying.xdb#xpointer(/gameMechanics.constructor.basicInterfaces.ActionGroup)" />
				</groups>
			</predicate>
		</Item>
	</casterConditions>
	<conditions>
		<Item type="gameMechanics.constructor.basicElements.BinaryPredicateOr">
			<predicates>
				<Item type="gameMechanics.constructor.basicElements.BinaryPredicateWrapper">
					<onMaster type="gameMechanics.world.ship.elements.PredicateStandingOnEnemyShip" />
				</Item>
				<Item type="gameMechanics.constructor.basicElements.BinaryPredicateWrapper">
					<onMaster type="gameMechanics.constructor.basicElements.PredicateOr">
						<predicates>
							<Item type="gameMechanics.world.ship.elements.PredicateStandingOnBoundShip" />
							<Item type="gameMechanics.map.instance.astralIsland.PredicateOnAstralIsland" />
						</predicates>
					</onMaster>
					<onSlave type="gameMechanics.constructor.basicElements.PredicateOr">
						<predicates>
							<Item type="gameMechanics.world.ship.elements.PredicateChestNotInTreasury" />
							<Item type="gameMechanics.world.ship.elements.PredicateInHangar" />
						</predicates>
					</onSlave>
				</Item>
			</predicates>
		</Item>
	</conditions>
	<targetImpacts>
		<Item type="gameMechanics.world.ship.elements.ImpactUseLootChest">
			<chestPickedUpData href="ChestPickedUp.xdb#xpointer(/gameMechanics.world.ClientData)" />
			<chestPickedUpOnIslandData href="ChestPickedUpOnIsland.xdb#xpointer(/gameMechanics.world.ClientData)" />
		</Item>
	</targetImpacts>
	<prepareDuration>0</prepareDuration>
	<needsLos>false</needsLos>
</gameMechanics.constructor.schemes.exploit.Exploit>
